<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Fan-Made Geometry Dash</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      overflow: hidden;
      background-color: #87CEEB;
    }

    h1 {
      text-align: center;
      margin-top: 20px;
      color: #333;
    }

    #gameCanvas {
      width: 100vw;
      height: 80vh;
      background-color: #f0f0f0;
      border: 2px solid #000;
      margin: 0 auto;
      position: relative;
      overflow: hidden;
    }

    #player {
      width: 40px;
      height: 40px;
      background-color: red;
      position: absolute;
      bottom: 10px;
      left: 50px;
    }

    .obstacle {
      width: 40px;
      height: 40px;
      background-color: orange;
      position: absolute;
      bottom: 10px;
      animation: moveObstacle 3s linear infinite;
    }

    @keyframes moveObstacle {
      from {
        right: -50px;
      }
      to {
        right: 100vw;
      }
    }

    #ground {
      width: 100vw;
      height: 20px;
      background-color: green;
      position: absolute;
      bottom: 0;
    }

    #score {
      position: absolute;
      top: 20px;
      left: 20px;
      font-size: 24px;
      font-weight: bold;
      color: #333;
    }
  </style>
</head>
<body>

<h1>Fan-Made Geometry Dash</h1>
<div id="gameCanvas">
  <div id="player"></div>
  <div id="ground"></div>
  <div id="score">Score: 0</div>
</div>

<script>
  const player = document.getElementById('player');
  const gameCanvas = document.getElementById('gameCanvas');
  const scoreDisplay = document.getElementById('score');
  let isJumping = false;
  let gravity = 0.9;
  let jumpHeight = 150;
  let velocity = 0;
  let score = 0;

  // Player Jump
  function jump() {
    if (!isJumping) {
      isJumping = true;
      let initialBottom = parseInt(window.getComputedStyle(player).bottom);

      let jumpInterval = setInterval(() => {
        if (parseInt(player.style.bottom) < initialBottom + jumpHeight) {
          velocity = 5; // Upward speed
          player.style.bottom = parseInt(player.style.bottom) + velocity + 'px';
        } else {
          clearInterval(jumpInterval);

          let fallInterval = setInterval(() => {
            if (parseInt(player.style.bottom) > 10) {
              velocity = -5; // Downward speed
              player.style.bottom = parseInt(player.style.bottom) + velocity + 'px';
            } else {
              clearInterval(fallInterval);
              player.style.bottom = '10px';
              isJumping = false;
            }
          }, 20);
        }
      }, 20);
    }
  }

  // Spawn obstacles
  function spawnObstacle() {
    const obstacle = document.createElement('div');
    obstacle.classList.add('obstacle');
    gameCanvas.appendChild(obstacle);
    obstacle.style.left = '100vw';

    const moveInterval = setInterval(() => {
      let obstacleLeft = parseInt(window.getComputedStyle(obstacle).left);
      let playerBottom = parseInt(player.style.bottom);
      
      // Detect collision
      if (obstacleLeft > 50 && obstacleLeft < 90 && playerBottom < 50) {
        alert('Game Over! Your Score: ' + score);
        clearInterval(moveInterval);
        obstacle.remove();
        resetGame();
      }

      if (obstacleLeft < -50) {
        clearInterval(moveInterval);
        obstacle.remove();
        score++;
        scoreDisplay.textContent = 'Score: ' + score;
      }

      obstacle.style.left = obstacleLeft - 5 + 'px';
    }, 20);
  }

  // Game loop to continuously spawn obstacles
  function gameLoop() {
    setInterval(spawnObstacle, 2000); // Spawn an obstacle every 2 seconds
  }

  // Reset the game
  function resetGame() {
    score = 0;
    scoreDisplay.textContent = 'Score: ' + score;
    player.style.bottom = '10px';
    isJumping = false;
  }

  // Jump on spacebar press
  window.addEventListener('keydown', (event) => {
    if (event.code === 'Space') {
      jump();
    }
  });

  // Start the game
  gameLoop();

</script>

</body>
</html>
